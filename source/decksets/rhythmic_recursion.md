build-lists: true
autoscale: true

# **Rhythmic** *Recursion*

^-Music and Programming
--patterns shared
--focus: recursion
--specifically, "Clapping Music"
^---
First, let's talk about recursion

---

> _**recursion**_ : a method of defining functions in which the function being defined is applied within its own definition

--[Wikipedia](https://en.wikipedia.org/wiki/Recursion)

---

> _**recursion**_ : (mathematics) an expression such that each term is generated by repeating a particular (mathematical) operation

--[Wolfram Alpha](http://www.wolframalpha.com/input/?i=recursion&rawformassumption=%7B%22C%22,+%22recursion%22%7D+-%3E+%7B%22Word%22%7D)

---

![inline](http://celeen.info/images/clappingmusic.png)

^let's break this down
--two performers; clapping is the instrument
--bar/measure
--repeated 12 times (section)
--baseline plays the same thing throughout
[NEXT- DON'T SAY MORE YET]
---

![inline 260%](http://celeen.info/images/one-measure.png)

^--note groupings, rhythm
-- clap the pattern for them
--both parts are playing the same thing in the first section
--codify this for computers:
-- (a)notes w/ 1
-- (b)rests with 0

---

### [1,1,1,0,1,1,0,1,0,1,1,0]

### [1,1,1,0,1,1,0,1,0,1,1,0]

---

![inline](http://celeen.info/images/clappingmusic.png)

^rest of score;
-- second part changes throughout the piece
-- it's a repeated operation

---

![inline 260%](http://celeen.info/images/one-measure2.png)

^look at second measure zoomed in
-- compare to first measure
-- what operation has affected the 2nd part?

---

### [1,1,1,0,1,1,0,1,0,1,1,0]

### [1,1,0,1,1,0,1,0,1,1,0,1]

---

![inline](http://celeen.info/images/clappingmusic.png)

^the change continues in that fashion for the rest of the piece,
--at the end, they play together again

---

### And Now, It's Time for the Breakdown

#### What needs representation?

1. **Two Parts**
  - *performers, or voices*
2. **What they're playing**
  - *notes on the page*
3. **How to play the parts**
  - *the process of playing or performing those notes*

---

### 1. **Two Parts** <br> *performers, or voices*

```ruby
@voice1 = :drum_tom_hi_hard
@voice2 = :drum_tom_mid_hard
```
^to differentiate

---

###2. **What they're playing**<br> *notes on the page*

```ruby
@baseline = [1,1,1,0,1,1,0,1,0,1,1,0]

rotating_part = @baseline.clone.rotate
=> [1,1,0,1,1,0,1,0,1,1,0,1]
```

---

### 3. **How to play the parts**<br> *the process of playing or performing the notes*

---

# Important Terms

- measure/bar
- section
^--called a measure, bar is more overloaded
-- refers to the repeated group of measures

---

#### Things that Exist:
- `#play_note`
- `#play_rest`

---

### Other Helper Methods

- `#play_measure`
- `#play_section`
- `#both_parts_play_section`

---

# `#play_measure`
### *plays through the notes and rests in one 'measure'*

```ruby
def play_measure(pattern, voice)
  pattern.each do |value|
    value == 1 ? play_note(voice) : play_rest
  end
end
```

```ruby
play_measure(@baseline, @voice1)
```

---

# `#play_section`
### *repeats the given measure/pattern n times*

```ruby
def play_section(pattern, voice)
  4.times do
    play_measure(pattern, voice)
  end
end
```
```ruby
play_section(@baseline, @voice1)
```

---

# `#both_parts_play_section`
### *both parts play through one section each, simultaneously*

```ruby
def both_parts_play_section(part2)
  in_thread do
    play_section(@baseline, @voice1)
  end

  play_section(part2, @voice2)
end
```
```ruby
both_parts_play_section(@baseline)
```

---

# *RECURSION!*

---

# *RECURSION!*

```ruby
def play_recursive_bit(rotating_part)
  play_recursive_bit(???)
end
```

---

# *RECURSION!*

```ruby
def play_recursive_bit(rotating_part)
  return if rotating_part == @baseline

  play_recursive_bit(???)
end
```

---

# *RECURSION!*

```ruby
def play_recursive_bit(rotating_part)
  both_parts_play_section(rotating_part)

  return if rotating_part == @baseline

  play_recursive_bit(???)
end
```

---

# *RECURSION!*

```ruby
def play_recursive_bit(rotating_part)
  both_parts_play_section(rotating_part)

  return if rotating_part == @baseline

  play_recursive_bit(rotating_part.rotate)
end
```

---

# All Together, Now 

```ruby
def play_piece
  play_recursive_bit(@baseline.clone.rotate)
end
```

---

# All Together, Now 

```ruby
def play_piece
  both_parts_play_section(@baseline)
  play_recursive_bit(@baseline.clone.rotate)
end
```
```ruby
play_piece
```
---

# Resources and Links

---

## **Celeen Rusk**

#### celeen.rusk@braintree.com

#### **@celeen** (slack)
#### **@celeenr** (twitter)
